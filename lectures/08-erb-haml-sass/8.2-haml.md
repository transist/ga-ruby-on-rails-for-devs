HAML
====

[HAML](http://haml-lang.com) 的意思是*HTML Abstraction Markup Language*.

Haml不需要在模板里面使用明确的HTML进行编码，因为它本身就是HTML的描述，使用一些代码来动态生成内容。

HTML in HAML
------------

``` ruby
require 'haml'

s = "Ruby String"

e = Haml::Engine.new "%p Hello World"

e.render # "<p>Hello World</p>"
```

在HAML缩进是很重要的。它允许分析器清晰的关闭我们的tag，而不要我们明确的告知。规则是要两个空格的缩进。

* 每行第一个非空格的字符用来决定如何解析此行。
* 用`%`来开启HTML标签。
* 用`/`来开启HTML注释。
* 带有ID的Div用`#`。
* 带有Class的Div用`.`.
* Doctype声明用`!!!`

Example:

``` haml
!!!
%html
  %head
    %title HAML Example
  %body
    / a paragraph of class intro        
    %p.intro
      An Introduction to HAML          
    / a div with id=links and class bottom
    #links.bottom
      %a{ href: "http://generalassemb.ly" } GeneralAssemb.ly
    / a div with class footer and left
    .footer.left
      built at GeneralAssemb.ly
```

混入Ruby
----------------

Text after an `=` sign is the result of Ruby code, text after `-` evaluates Ruby code.

``` haml
%ul
  -(1..5).each do |i|
    %li= i
```

绑定
-------

接受*Object*, *Proc*等进行渲染。

``` ruby
require 'haml'

class Hound
  def initialize
    @sound = "bow wow"
  end
  def public_binding
    binding
  end
end

t = %q{
= "The dog says #{@sound}"
}

dog = Hound.new
Haml::Engine.new(t).render(dog.public_binding)
```

